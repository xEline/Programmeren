<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" title="stylesheet" type="text/css" href="style.css" media="all" />
        <script type="text/javascript" src="d3.js"></script>
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Andika' rel='stylesheet' type='text/css'>
    </head>
    <body>
    
    <div id="titel">
    	<h2>Pleeglocatie</h2>
        <p>Moord en doodslag</p>
    </div>
    
	<div class="click">
		<img src="click.png" width="160" height="160">
	</div>
    
    <div class="legenda">
        <a class="all">Overzicht</a>
        <a class="blokje0">Woning slachtoffer</a>
        <a class="blokje1">Woning ander</a>
        <a class="blokje2">Horeca gelegenheid</a>
        <a class="blokje3">Openbare weg</a>
        <a class="blokje4">Overige plaatsen</a>
        <a class="blokje5">Onbekend</a>
    </div>
    
    <div id="donut1" class="donut1">
    <p>2008</p>
    </div>
    <div id="donut2" class="donut2">
    <p>2009</p>
    </div>
    <div id="donut3" class="donut3">
    <p>2010</p>
    </div>
    <div id="donut4" class="donut4">
    <p>2011</p>
	</div>
    
        <script type="text/javascript">
        var data1 = [69, 16, 6, 43, 10, 6]; //2008
            data2 = [69, 24, 10, 35, 13, 3]; //2009
			data3 = [83, 10, 7, 32, 9, 3]; //2010
        	data4 = [74, 14, 19, 24, 12, 0]; //2011
        function makeDonut(container, dataSet, size, radius, innerRadius){
        var w = size,
            h = size,
            r = radius,
            ir = innerRadius,
            color = d3.scale.category20c().domain([0, 1, 2, 3, 4, 5]).range(["#6F242B", "#A82A28", "#AB483A", "#D9ADA9", "#FF530D", "#500000", ]),
            donut = d3.layout.pie().sort(null),
            arc = d3.svg.arc().innerRadius(ir).outerRadius(r);
        
        var svg = d3.select(container).append("svg:svg")
            .attr("width", w)
            .attr("height", h)
          .append("svg:g")
            .attr("transform", "translate(" + w / 2 + "," + h / 2 + ")");
        
		var arcs = svg.selectAll("path")
            .data(donut(dataSet))
              .enter().append("svg:path")
                .attr("fill", function(d, i) { return color(i); })
                .attr("d", arc)
                .attr('class', function (d, i){ return 'blokje'+i;})
                .each(function(d) { this._current = d; })
				.attr('class', function (d, i){ return 'blokje'+i;});
        }
		
        makeDonut('#donut1', data1, 230, 90, 0);
        makeDonut('#donut2', data2, 230, 90, 0);
        makeDonut('#donut3', data3, 230, 90, 0);
        makeDonut('#donut4', data4, 230, 90, 0);          
		 
		   $('a').click(function(){
			//alert($(this).attr('class'));
			var currentClass = $(this).attr('class');
			if (currentClass == 'all'){
				$('path').attr('opacity', 1);
			} else {
				$('path').attr('opacity', 0.2);
				$('path.' +  currentClass).attr('opacity', 1);
			}
			});
		   
		   
        </script>
            
      <div id="footer"> 
       		<p>Bron: CBS</p>
      </div>
            

    </body>
</html>
